资产管理
- 资产管理包括资产发行、追加发行、销毁、锁定，直接通过UTXO交易来实现，而更多的资产应用如投票、质押，通过安码来实现。
- 以原生资产方式发行，可以把80%-90%的安码ERC20的Transfer交易从虚拟机负载中带离，通过低性能要求和低交易费的普通 UTXO交易和闪电交易来加速，大大减轻虚拟机的性能压力，使得虚拟机可专注处理更多更高层应用。
- 原生资产可通过系统转换安码，转换成为存在于安码ERC20中的次生资产,这种系统转换安码的技术原理：
  - 安码地址就如正常地址，可以接收和发送所有原生资产；
  - 安网4事先部署一个系统转换安码，该安码功能是让用户存入原生资产，随时从转换安码取回一定量或全部次生资产，或者用户存入次生资产，随时从转换安码取回原生资产。
  - 用户只需向该系统安码发送原生资产，即可获得次生资产，反之亦然；
  - 所有存款到系统转换安码的原生资产，由安码逻辑管理，完全去中心化，不由任何个人和机构所控制，即使是开发团队也不例外，资产安全。
  - 锁定的原生资产数量与所产生的次生资产一一对应，不会多也不会少；

- 附生资产、次生资产以ERC20接口与外界对接。而原生资产为了方便接入各交易所，对外RPC接口也采用ERC20接口，通过安码ID（即资产ID）访问各种类似ERC20代币的参数、预授权、转账，技术实现上需通过ERC20接口与UTXO的转换，但其底层实现仍是UTXO。对交易所和钱包来说，安网4的原生资产、次生资产与ERC20附生资产无差别。
- 以UTXO交易的原生资产来适配ERC20代币接口，其中获取代币参数在本地即可得到，普通转账transfer即是UTXO交易，前两者没问题。而预授权approve和从指定地址转账transferFrom可通过Hash锁定技术来实现。技术原理：
  - 授权人：授权其他人从自己地址上转账；被授权人：授权成功后，从授权人地址上转账，而无需授权人签名；
  - 被授权人生成一个256位随机数p作为源像，使用SHA256计算出源像的HASH，该HASH我们称为锁定HASH，该锁定HASH用于预授权交易中，使得只有知道源像的人才能花费。被授权人通过非区块链方式向授权人发送预授权申请，包括预授权金额、被授权地址、锁定HASH等数据；
  - 授权人接到预授权请求，如果同意则向自己发送一个预授权交易（即类似于ERC20中的approve操作），金额就是预授权金额，scriptPub脚本中允许两种方式转账，一种是授权人签名，另一种是拥有锁定HASH的源像以及被授权人的签名，两种方式之一皆可花费；
  - 被授权人检测到预授权交易被确认后，发送一个赎回交易（即类似于ERC20中的transferFrom操作），输入是预授权交易的输出，用使用源像和被授权地址签名作为scriptSig脚本，即可无需授权人签名直接从授权人地址转移资产；
  - 上述授权有金额限制，不像ERC20可以不限金额授权。如果授权人反悔，在被授权人还未转走之时，可通过自己的签名赎回这些预授权资产，相对更安全一些。
